<app-sidebar></app-sidebar>
<div class="body-position">
  <app-dashboard-head></app-dashboard-head>

  <div class="main-container">
    <div>
      <h4>Customer</h4>
    </div>

    <div class="order-body py-2 px-3">
      <p-accordion [multiple]="true" class="w-100">
        <p-accordionTab>
          <ng-template pTemplate="header">
            <span class="font-bold white-space-nowrap text-nowrap py-15">
              Client
            </span>
          </ng-template>

          <div class="row">
            <div class="col-lg-6">
              <label class="add-order-label m-0">Client</label>
              <p-dropdown
                styleClass="w-100"
                [options]="customerList"
                optionLabel="name"
                optionValue="name"
                name="client"
              ></p-dropdown>
            </div>
          </div>
        </p-accordionTab>
      </p-accordion>

      <p-accordion [multiple]="true" class="w-100 mt-4">
        <p-accordionTab>
          <ng-template pTemplate="header">
            <span class="font-bold white-space-nowrap text-nowrap py-15">
              Category & Processes
            </span>
          </ng-template>
          <div>
            <div class="row">
              <div class="col-lg-6">
                <label class="add-order-label m-0">Category</label>
                <p-dropdown
                  styleClass="w-100"
                  [options]="categoryList"
                  optionLabel="name"
                  optionValue="name"
                  (onChange)="onCategoryChange($event.value)"
                  name="category"
                ></p-dropdown>
              </div>
              <div class="col-lg-6">
                <div class="card">
                  <p-pickList
                    [source]="sourceProducts"
                    [target]="targetProducts"
                    sourceHeader="Available"
                    targetHeader="Selected"
                    [dragdrop]="true"
                    [responsive]="true"
                    [sourceStyle]="{ height: '30rem' }"
                    [targetStyle]="{ height: '30rem' }"
                    filterBy="name"
                    sourceFilterPlaceholder="Search by name"
                    targetFilterPlaceholder="Search by name"
                    breakpoint="1400px"
                  >
                    <ng-template let-product pTemplate="item">
                      <div class="flex flex-wrap p-2 align-items-center gap-3">
                        <div class="flex-1 flex flex-column gap-2">
                          <span class="font-bold">{{ product.process }}</span>
                          <div class="flex align-items-center gap-2">
                            <i class="pi pi-tag text-sm"></i>
                            <span *ngFor="let item of processCategory">{{
                              item.name
                            }}</span>
                          </div>
                        </div>
                      </div>
                    </ng-template>
                  </p-pickList>
                </div>
              </div>
            </div>
          </div>
        </p-accordionTab>
      </p-accordion>

      <p-accordion [multiple]="true" class="w-100 mt-4">
        <p-accordionTab>
          <ng-template pTemplate="header">
            <span class="font-bold white-space-nowrap text-nowrap py-15">
              Send to production
            </span>
          </ng-template>
          <div>
            <div class="row">
              <div class="col-lg-6">
                <label class="add-order-label m-0">Assigned to:</label>
                <p-dropdown
                  styleClass="w-100"
                  [options]="productionUserList"
                  optionLabel="name"
                  optionValue="name"
                  name="assignedTo"
                ></p-dropdown>
              </div>
            </div>
          </div>
        </p-accordionTab>
      </p-accordion>
    </div>
  </div>
</div>
<p-toast></p-toast>
